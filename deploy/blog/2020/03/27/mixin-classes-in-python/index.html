<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>The Digital Cat - Multiple inheritance and mixin classes in Python</title>
    <meta charset="utf-8" />
    <meta http-equiv='content-language' content='en-gb'>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="A blog featuring in-depth posts about Python, Scala, TDD, devops, security and all things development">
<meta name="description" content="This post describes what mixin classes are in theory, why we need them and how they can be implemented in Python. It also shows a working example from the class-based views code of the Django framework.">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@thedigicat" />
<meta name="twitter:title" content="Multiple inheritance and mixin classes in Python" />
<meta name="twitter:description" content="This post describes what mixin classes are in theory, why we need them and how they can be implemented in Python. It also shows a working example from the class-based views code of the Django framework." />
<meta name="twitter:image" content="https://www.thedigitalcatonline.com/images/multiple-inheritance-and-mixin-classes-in-python.jpg" />
    <script src="https://kit.fontawesome.com/15214b60ba.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;1,400;1,600&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="/theme/css/main.min.css?f6765de3">
    <link href="/images/global/favicon.jpg" rel="icon">
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-74364524-1"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     
     gtag('config', 'UA-74364524-1');
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FZ55XG1KGG"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     
     gtag('config', 'G-FZ55XG1KGG');
    </script>
  </head>

  <body class="preload">
    <div class="container">
      <div class="sidebar navigation">
<nav>
<div class="links">
  <ul>
    <li class="link"><a href="/index.html">Homepage</a></li>
    <li class="link"><a href="/pages/about.html">About</a></li>
    <li class="link"><a href="/archives/index.html">Archives</a></li>
  </ul>
</div></nav>
<section>
  <article class="card">
    <a href="https://www.thedigitalcat.academy/freebie-first-class-objects">
      <img src="/images/first-class-objects-in-python.jpg" />
    </a>
    <div class="body">
      <h2>First-class objects in Python</h2>
      <p>Higher-order functions, wrappers, and factories</p>
      <div class="actions">
        <a class="action" href="https://www.thedigitalcat.academy/freebie-first-class-objects">Get your FREE copy</a>
      </div>
    </div>
  </article>
</section>
<section>
  <header>
    <h2>Tags</h2>
  </header>
<ul class="tags">
    <li class="tag tag-size-3">
      <a title="Posts about algorithms" href="/categories/algorithms/">algorithms</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about amiga" href="/categories/amiga/">amiga</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about AMQP" href="/categories/amqp/">AMQP</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about architecture" href="/categories/architecture/">architecture</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about architectures" href="/categories/architectures/">architectures</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about assembly" href="/categories/assembly/">assembly</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about AWS" href="/categories/aws/">AWS</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about big data" href="/categories/big-data/">big data</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about blogging" href="/categories/blogging/">blogging</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about C" href="/categories/c/">C</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Clojure" href="/categories/clojure/">Clojure</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about compilers" href="/categories/compilers/">compilers</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about concurrent programming" href="/categories/concurrent-programming/">concurrent programming</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about cryptography" href="/categories/cryptography/">cryptography</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about decorators" href="/categories/decorators/">decorators</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about design" href="/categories/design/">design</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about devops" href="/categories/devops/">devops</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about distributed systems" href="/categories/distributed-systems/">distributed systems</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Django" href="/categories/django/">Django</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Docker" href="/categories/docker/">Docker</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about ed25519" href="/categories/ed25519/">ed25519</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about editor" href="/categories/editor/">editor</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Emacs" href="/categories/emacs/">Emacs</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Erlang" href="/categories/erlang/">Erlang</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Flask" href="/categories/flask/">Flask</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about functional programming" href="/categories/functional-programming/">functional programming</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about generators" href="/categories/generators/">generators</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Git" href="/categories/git/">Git</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about HTML" href="/categories/html/">HTML</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about HTTP" href="/categories/http/">HTTP</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about infrastructure" href="/categories/infrastructure/">infrastructure</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about JavaScript" href="/categories/javascript/">JavaScript</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Lambda" href="/categories/lambda/">Lambda</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about M68000" href="/categories/m68000/">M68000</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Markdown" href="/categories/markdown/">Markdown</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Mau" href="/categories/mau/">Mau</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about metaclasses" href="/categories/metaclasses/">metaclasses</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about metaprogramming" href="/categories/metaprogramming/">metaprogramming</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about networking" href="/categories/networking/">networking</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Notebook" href="/categories/notebook/">Notebook</a>
    </li>
    <li class="tag tag-size-1">
      <a title="Posts about OOP" href="/categories/oop/">OOP</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about operating systems" href="/categories/operating-systems/">operating systems</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about pelican" href="/categories/pelican/">pelican</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Pika" href="/categories/pika/">Pika</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Postage" href="/categories/postage/">Postage</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Postgres" href="/categories/postgres/">Postgres</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about pytest" href="/categories/pytest/">pytest</a>
    </li>
    <li class="tag tag-size-1">
      <a title="Posts about Python" href="/categories/python/">Python</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about Python2" href="/categories/python2/">Python2</a>
    </li>
    <li class="tag tag-size-1">
      <a title="Posts about Python3" href="/categories/python3/">Python3</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about RabbitMQ" href="/categories/rabbitmq/">RabbitMQ</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about refactoring" href="/categories/refactoring/">refactoring</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about retroprogramming" href="/categories/retroprogramming/">retroprogramming</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about RSA" href="/categories/rsa/">RSA</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Rust" href="/categories/rust/">Rust</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about Scala" href="/categories/scala/">Scala</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about SSH" href="/categories/ssh/">SSH</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about SSL" href="/categories/ssl/">SSL</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about TDD" href="/categories/tdd/">TDD</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Terraform" href="/categories/terraform/">Terraform</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about testing" href="/categories/testing/">testing</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about tools" href="/categories/tools/">tools</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about versioning" href="/categories/versioning/">versioning</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about video" href="/categories/video/">video</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about WWW" href="/categories/www/">WWW</a>
    </li>
</ul></section>
<section>
  <header>
    <h2>Categories</h2>
  </header>
<ul>
  <li><a href="/category/programming/">Programming</a></li>
  <li><a href="/category/projects/">Projects</a></li>
  <li><a href="/category/retro/">Retro</a></li>
</ul></section>
<section>
  <header>
    <h2>Feeds</h2>
  </header>
<ul>
  <li><i class="fas fa-rss" aria-hidden="true"></i> <a href="/atom.xml">All posts</a></li>


  <li><i class="fas fa-rss" aria-hidden="true"></i> <a href="/category/programming/atom.xml">All posts in category: Programming</a></li>
</ul></section>
<section>
  <header>
    <h2>Get in touch</h2>
  </header>
  <ul class="contact">
    <li><i class="fab fa-twitter" aria-hidden="true"></i> <a href="https://twitter.com/thedigicat">Twitter</a></li>
    <li><i class="fab fa-github" aria-hidden="true"></i> <a href="https://github.com/TheDigitalCatOnline">GitHub</a></li>
  </ul>
</section>      </div>
      <div class="page">
	<header class="primary" >
	  <button type="button">
	    <i class="fas fa-bars"></i>
	  </button>
	  <p>The Digital Cat</p>
	</header>
	<div class="mobile-menu navigation">
<nav>
<div class="links">
  <ul>
    <li class="link"><a href="/index.html">Homepage</a></li>
    <li class="link"><a href="/pages/about.html">About</a></li>
    <li class="link"><a href="/archives/index.html">Archives</a></li>
  </ul>
</div></nav>
<section>
  <header>
    <h2>Categories</h2>
  </header>
<ul>
  <li><a href="/category/programming/">Programming</a></li>
  <li><a href="/category/projects/">Projects</a></li>
  <li><a href="/category/retro/">Retro</a></li>
</ul></section>
<section>
  <header>
    <h2>Tags</h2>
  </header>
<ul class="tags">
    <li class="tag tag-size-3">
      <a title="Posts about algorithms" href="/categories/algorithms/">algorithms</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about amiga" href="/categories/amiga/">amiga</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about AMQP" href="/categories/amqp/">AMQP</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about architecture" href="/categories/architecture/">architecture</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about architectures" href="/categories/architectures/">architectures</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about assembly" href="/categories/assembly/">assembly</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about AWS" href="/categories/aws/">AWS</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about big data" href="/categories/big-data/">big data</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about blogging" href="/categories/blogging/">blogging</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about C" href="/categories/c/">C</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Clojure" href="/categories/clojure/">Clojure</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about compilers" href="/categories/compilers/">compilers</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about concurrent programming" href="/categories/concurrent-programming/">concurrent programming</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about cryptography" href="/categories/cryptography/">cryptography</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about decorators" href="/categories/decorators/">decorators</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about design" href="/categories/design/">design</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about devops" href="/categories/devops/">devops</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about distributed systems" href="/categories/distributed-systems/">distributed systems</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Django" href="/categories/django/">Django</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Docker" href="/categories/docker/">Docker</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about ed25519" href="/categories/ed25519/">ed25519</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about editor" href="/categories/editor/">editor</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Emacs" href="/categories/emacs/">Emacs</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Erlang" href="/categories/erlang/">Erlang</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Flask" href="/categories/flask/">Flask</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about functional programming" href="/categories/functional-programming/">functional programming</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about generators" href="/categories/generators/">generators</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Git" href="/categories/git/">Git</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about HTML" href="/categories/html/">HTML</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about HTTP" href="/categories/http/">HTTP</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about infrastructure" href="/categories/infrastructure/">infrastructure</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about JavaScript" href="/categories/javascript/">JavaScript</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Lambda" href="/categories/lambda/">Lambda</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about M68000" href="/categories/m68000/">M68000</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Markdown" href="/categories/markdown/">Markdown</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Mau" href="/categories/mau/">Mau</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about metaclasses" href="/categories/metaclasses/">metaclasses</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about metaprogramming" href="/categories/metaprogramming/">metaprogramming</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about networking" href="/categories/networking/">networking</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Notebook" href="/categories/notebook/">Notebook</a>
    </li>
    <li class="tag tag-size-1">
      <a title="Posts about OOP" href="/categories/oop/">OOP</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about operating systems" href="/categories/operating-systems/">operating systems</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about pelican" href="/categories/pelican/">pelican</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Pika" href="/categories/pika/">Pika</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Postage" href="/categories/postage/">Postage</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Postgres" href="/categories/postgres/">Postgres</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about pytest" href="/categories/pytest/">pytest</a>
    </li>
    <li class="tag tag-size-1">
      <a title="Posts about Python" href="/categories/python/">Python</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about Python2" href="/categories/python2/">Python2</a>
    </li>
    <li class="tag tag-size-1">
      <a title="Posts about Python3" href="/categories/python3/">Python3</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about RabbitMQ" href="/categories/rabbitmq/">RabbitMQ</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about refactoring" href="/categories/refactoring/">refactoring</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about retroprogramming" href="/categories/retroprogramming/">retroprogramming</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about RSA" href="/categories/rsa/">RSA</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about Rust" href="/categories/rust/">Rust</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about Scala" href="/categories/scala/">Scala</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about SSH" href="/categories/ssh/">SSH</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about SSL" href="/categories/ssl/">SSL</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about TDD" href="/categories/tdd/">TDD</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about Terraform" href="/categories/terraform/">Terraform</a>
    </li>
    <li class="tag tag-size-2">
      <a title="Posts about testing" href="/categories/testing/">testing</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about tools" href="/categories/tools/">tools</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about versioning" href="/categories/versioning/">versioning</a>
    </li>
    <li class="tag tag-size-4">
      <a title="Posts about video" href="/categories/video/">video</a>
    </li>
    <li class="tag tag-size-3">
      <a title="Posts about WWW" href="/categories/www/">WWW</a>
    </li>
</ul></section>	</div>
	
<div class="page-content">
  <header>
    <h1>Multiple inheritance and mixin classes in Python</h1>
    <div class="post-info">
      <p>By Leonardo Giordani - <i class="fas fa-calendar-alt"></i> <time datetime="2020-03-27T12:00:00+01:00"> 27/03/2020</time> <i class="fas fa-edit"></i> Updated on <time datetime="2022-10-08T14:00:00+01:00">Oct 8, 2022</time></p>
      <p class="tags">
	<a class="tag category" href="/category/programming/" title="All posts in category Programming">Programming</a>
	<a class="tag" href="/categories/algorithms/">algorithms</a>
	<a class="tag" href="/categories/django/">Django</a>
	<a class="tag" href="/categories/oop/">OOP</a>
	<a class="tag" href="/categories/python/">Python</a>
	<a class="tag" href="/categories/python3/">Python3</a>
      </p>
      <p class="share">Share on: <span><a class="" href="https://twitter.com/intent/tweet?text=Multiple%20inheritance%20and%20mixin%20classes%20in%20Python&url=https%3A//www.thedigitalcatonline.com/blog/2020/03/27/mixin-classes-in-python/&via=thedigicat&hashtags=algorithms,django,oop,python,python3" target="_blank" title="Share on Twitter"><i class="fab fa-twitter"></i> Twitter</a></span>
<span><a class="" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A//www.thedigitalcatonline.com/blog/2020/03/27/mixin-classes-in-python/&title=Multiple%20inheritance%20and%20mixin%20classes%20in%20Python&summary=This%20post%20describes%20what%20mixin%20classes%20are%20in%20theory%2C%20why%20we%20need%20them%20and%20how%20they%20can%20be%20implemented%20in%20Python.%20It%20also%20shows%20a%20working%20example%20from%20the%20class-based%20views%20code%20of%20the%20Django%20framework.&source=https%3A//www.thedigitalcatonline.com/blog/2020/03/27/mixin-classes-in-python/" target="_blank" title="Share on LinkedIn"><i class="fab fa-linkedin"></i> LinkedIn</a></span>
<span><a class="" href="https://news.ycombinator.com/submitlink?t=Multiple%20inheritance%20and%20mixin%20classes%20in%20Python&u=https%3A//www.thedigitalcatonline.com/blog/2020/03/27/mixin-classes-in-python/" target="_blank" title="Share on HackerNews"><i class="fab fa-hacker-news"></i> HackerNews</a></span>
<span><a class="" href="mailto:?subject=Multiple%20inheritance%20and%20mixin%20classes%20in%20Python&amp;body=https%3A//www.thedigitalcatonline.com/blog/2020/03/27/mixin-classes-in-python/" target="_blank" title="Share via Email"><i class="fas fa-envelope"></i> Email</a></span>
<span><a class="" href="https://www.reddit.com/submit?url=https%3A//www.thedigitalcatonline.com/blog/2020/03/27/mixin-classes-in-python/&title=Multiple%20inheritance%20and%20mixin%20classes%20in%20Python" target="_blank" title="Share via Reddit"><i class="fab fa-reddit"></i> Reddit</a></span></p>    
    </div>
  </header>
  
  <div class="post-content">
    <p>I recently revisited three old posts on Django class-based views that I wrote for this blog, updating them to Django 3.0 (you can find them <a href="https://www.thedigitalcatonline.com/blog/2013/10/28/digging-up-django-class-based-views-1/">here</a>) and noticed once again that the code base uses <em>mixin classes</em> to increase code reuse. I also realised that mixins are not very popular in Python, so I decided to explore them, brushing up my knowledge of the OOP theory in the meanwhile.</p><p>To fully appreciate the content of the post, be sure you grasp two pillars of the OOP approach: <strong>delegation</strong>, in particular how it is implemented through inheritance, and <strong>polymorphism</strong>. <a href="https://www.thedigitalcatonline.com/blog/2014/08/20/python-3-oop-part-3-delegation-composition-and-inheritance/">This post about delegation</a> and <a href="https://www.thedigitalcatonline.com/blog/2014/08/21/python-3-oop-part-4-polymorphism/">this post about polymorphism</a> contain all you need to understand how Python implements those concepts.</p><h2 id="multiple-inheritance-blessing-and-curse-1a08">Multiple inheritance: blessing and curse<a class="headerlink" href="#multiple-inheritance-blessing-and-curse-1a08" title="Permanent link">¶</a></h2><h3 id="general-concepts-2aca">General concepts</h3><p>To discuss mixins we need to start from one of the most controversial subjects in the whole OOP world: multiple inheritance. This is a natural extension of the concept of simple inheritance, where a class automatically delegates method and attribute resolution to another class (the parent class).</p><p>Let me state it again, as it is important for the rest of the discussion: <em>inheritance is just an automatic delegation mechanism</em>.</p><p>Delegation was introduced in OOP as a way to reduce code duplication. When an object needs a specific feature it just delegates it to another class (either explicitly or implicitly), so the code is written just once.</p><p>Let&#x27;s consider the example of code management website, clearly completely fictional and not inspired by any existing product. Let&#x27;s assume we created the following hierarchy</p><div class="code"><div class="content"><div class="highlight"><pre>      assignable reviewable item
 (assign_to_user, ask_review_to_user)
                 ^
                 |
                 |
                 |
            pull request
</pre></div> </div> </div><p>which allows us to put in <code>pull request</code> only the specific code required by that element. This is a great achievement, as it is what libraries do for code, but on live objects. Method calls and delegation are nothing more than messages between objects, so the delegation hierarchy is just a simple networked system.</p><p>Unfortunately, the use of inheritance over composition often leads to systems that, paradoxically, increase code duplication. The main problem lies in the fact that inheritance can directly delegate to only one other class (the parent class), as opposed to composition, where the object can delegate to any number of other ones. This limitation of inheritance means that we might have a class that inherits from another one because it needs some of its features, but doing this receives features it doesn&#x27;t want, or shouldn&#x27;t have.</p><p>Let&#x27;s continue the example of the code management portal, and consider an <code>issue</code>, which is an item that we want to store in the system, but cannot be reviewed by a user. If we create a hierarchy like this</p><div class="code"><div class="content"><div class="highlight"><pre>    assignable reviewable item
 (assign_to_user, ask_review_to_user)
                 ^
                 |
                 |
                 |
                 |
        +--------+--------+
        |                 |
        |                 |
        |                 |
      issue          pull request
 (not reviewable)
</pre></div> </div> </div><p>we end up putting the features related to the review process in an object that shouldn&#x27;t have them. The standard solution to this problem is that of increasing the depth of the inheritance hierarchy and to derive from the new simpler ancestor.</p><div class="code"><div class="content"><div class="highlight"><pre>   assignable item
  (assign_to_user)
          ^
          |
          |
          |
          |
   +------+--------------+
   |                     |
   |                     |
   |                     |
   |         reviewable assignable item
   |            (ask_review_to_user)
   |                     ^
   |                     |
   |                     |
   |                     |
 issue              pull request
</pre></div> </div> </div><p>However, this approach stops being viable as soon as an object needs to inherit from a given class but not from the parent of that class. For example, an element that has to be reviewable but not assignable, like a <code>best practice</code> that we want to add to the site. If we want to keep using inheritance, the only solution at this point is to duplicate the code that implements the reviewable nature of the item (or the code that implements the assignable feature) and create two different class hierarchies.</p><div class="code"><div class="content"><div class="highlight"><pre>   assignable item              +--------&gt;  reviewable item
  (assign_to_user)              |         (ask_review_to_user)
          ^                     |                  ^
          |                     |                  |
          |                     |                  |
          |             CODE DUPLICATION           |
          |                     |                  |
   +------+--------------+      |                  |
   |                     |      |                  |
   |                     |      |                  |
   |                     |      V                  |
   |         reviewable assignable item            |
   |            (ask_review_to_user)               |
   |                     ^                         |
   |                     |                         |
   |                     |                         |
   |                     |                         |
 issue              pull request             best practice
</pre></div> </div> </div><p>Please note that this doesn&#x27;t even take into account that the new <code>reviewable item</code> might need attributes from <code>assignable item</code>, which prompts for another level of depth in the hierarchy, where we isolate those features in a more generic class. So, unfortunately, chances are that this is only the first of many compromises we will have to accept to keep the system in a stable state if we can&#x27;t change our approach.</p><p>Multiple inheritance was then introduced in OOP, as it was clear that an object might want to delegate certain actions to a given class, and other actions to a different one, mimicking what life forms do when they inherit traits from multiple ancestors (parents, grandparents, etc.).</p><p>The above situation can then be solved having <code>pull request</code> inherit from both the class that provides the assign feature and from the one that implements the reviewable nature. </p><div class="code"><div class="content"><div class="highlight"><pre>   assignable item                          reviewable item
  (assign_to_user)                        (ask_review_to_user)
          ^                                      ^  ^
          |                                      |  |
          |                                      |  |
          |                                      |  |
          |                                      |  |
   +------+-------------+ +----------------------+  |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
   |                    | |                         |
 issue              pull request              best practice
</pre></div> </div> </div><p>Generally speaking, then, multiple inheritance is introduced to give the programmer a way to keep using inheritance without introducing code duplication, keeping the class hierarchy simpler and cleaner. Eventually, everything we do in software design is to try and separate concerns, that is, to isolate features, and multiple inheritance can help to do this.</p><p>These are just examples and might be valid or not, depending on the concrete case, but they clearly show the issues that we can have even with a very simple hierarchy of 4 classes. Many of these problems clearly arise from the fact that we wanted to implement delegation only through inheritance, and I dare to say that 80% of the architectural errors in OOP projects come from using inheritance instead of composition and from using god objects, that is classes that have responsibilities over too many different parts of the system. Always remember that OOP was born with the idea of small objects interacting through messages, so the considerations we make for monolithic architectures are valid even here.</p><p>That said, as inheritance and composition implement two different types of delegation (<em>to be</em> and <em>to have</em>), they are both valuable, and multiple inheritance is the way to remove the single provider limitation that comes from having only one parent class.</p><h3 id="why-is-it-controversial-a9c1">Why is it controversial?</h3><p>Given what I just said, multiple inheritance seems to be a blessing. When an object can inherit from multiple parents, we can easily spread responsibilities among different classes and use only the ones we need, promoting code reuse and avoiding god objects.</p><p>Unfortunately, things are not that simple. First of all, we face the issue that every microservice-oriented architecture faces, that is the risk of going from god objects (the extreme monolithic architecture) to almost empty objects (the extreme distributed approach), burdening the programmer with too a fine-grained control that eventually results in a system where relationships between objects are so complicated that it becomes impossible to grasp the effect of a change in the code.</p><p>There is a more immediate problem in multiple inheritance, though. As it happens with the natural inheritance, parents can provide the same &quot;genetic trait&quot; in two different flavours, but the resulting individual will have only one. Leaving aside genetics (which is incredibly more complicated than programming) and going back to OOP, we face a problem when an object inherits from two other objects that provide the same attribute.</p><p>So, if your class <code>Child</code> inherits from parents <code>Parent1</code> and <code>Parent2</code>, and both provide the <code>__init__</code> method, which one should your object use?</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Parent1</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Parent2</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">):</span>
    <span class="c1"># This inherits from both Parent1 and Parent2,</span>
    <span class="c1"># which __init__ does it use?</span>
    <span class="k">pass</span>
</pre></div> </div> </div><p>Things can even get worse, as parents can have different signatures of the common method, for example</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Parent1</span><span class="p">:</span>
    <span class="c1"># This inherits from Ancestor but redefines __init__</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Parent2</span><span class="p">:</span>
    <span class="c1"># This inherits from Ancestor but redefines __init__</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">):</span>
    <span class="c1"># This inherits from both Parent1 and Parent2,</span>
    <span class="c1"># which __init__ does it use?</span>
    <span class="k">pass</span>
</pre></div> </div> </div><p>The problem can be extended even further, introducing a common ancestor above <code>Parent1</code> and <code>Parent2</code>.</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Ancestor</span><span class="p">:</span>
    <span class="c1"># The common ancestor, defines its own __init__ method</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Parent1</span><span class="p">(</span><span class="n">Ancestor</span><span class="p">):</span>
    <span class="c1"># This inherits from Ancestor but redefines __init__</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Parent2</span><span class="p">(</span><span class="n">Ancestor</span><span class="p">):</span>
    <span class="c1"># This inherits from Ancestor but redefines __init__</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">):</span>
    <span class="c1"># This inherits from both Parent1 and Parent2,</span>
    <span class="c1"># which __init__ does it use?</span>
    <span class="k">pass</span>
</pre></div> </div> </div><p>As you can see, we already have a problem when we introduce multiple parents, and a common ancestor just adds a new level of complexity. The ancestor class can clearly be at any point of the inheritance tree (grandparent, grand-grandparent, etc.), the important part is that it is shared between <code>Parent1</code> and <code>Parent2</code>. This is the so-called diamond problem, as the inheritance graph has the shape of a diamond</p><div class="code"><div class="content"><div class="highlight"><pre>       Ancestor
        ^   ^
       /     \
      /       \
 Parent1     Parent2
     ^     ^
      \       /
       \     /
        Child
</pre></div> </div> </div><p>So, while with single-parent inheritance the rules are straightforward, with multiple inheritance we immediately have a more complex situation that doesn&#x27;t have a trivial solution. Does all this prevent multiple inheritance from being implemented?</p><p>Not at all! There are solutions to this problem, as we will see shortly, but this further level of intricacy makes multiple inheritance something that doesn&#x27;t fit easily in a design and has to be implemented carefully to avoid subtle bugs. Remember that inheritance is an automatic delegation mechanism, as this makes what happens in the code less evident. For these reasons, multiple inheritance is often depicted as scary and convoluted, and usually given some space only in the advanced OOP courses, at least in the Python world. I believe every Python programmer, instead, should familiarise with it and learn how to take advantage of it.</p>
            <div class="advertisement">
                <a href="https://www.thedigitalcat.academy/freebie-first-class-objects">
                  <img src="/images/first-class-objects/cover.jpg" />
                </a>
                <div class="body">
                  <h2 id="first-class-objects-in-python-fffa">First-class objects in Python<a class="headerlink" href="#first-class-objects-in-python-fffa" title="Permanent link">¶</a></h2>
<p>Higher-order functions, wrappers, and factories</p>
<p>Learn all you need to know to understand first-class citizenship in Python, the gateway to grasp how decorators work and how functional programming can supercharge your code.</p>
                  <div class="actions">
                    <a class="action" href="https://www.thedigitalcat.academy/freebie-first-class-objects">Get your FREE copy</a>
                  </div>
                </div>
            </div>
            <h3 id="multiple-inheritance-the-python-way-d87f">Multiple inheritance: the Python way</h3><p>Let&#x27;s see how it is possible to solve the diamond problem. Unlike genetics, we programmers can&#x27;t afford any level of uncertainty or randomness in our processes, so in the presence of a possible ambiguity as the one created by multiple inheritance, we need to write down a rule that will be strictly followed in every case. In Python, this rule goes by the name of MRO (Method Resolution Order), which was introduced in Python 2.3 and is described in <a href="https://www.python.org/download/releases/2.3/mro/">this document</a> by Michele Simionato.</p><p>There is a lot to say about MRO and the underlying C3 linearisation algorithm, but for the scope of this post, it is enough to see how it solves the diamond problem. In case of multiple inheritance, Python follows the usual inheritance rules (automatic delegation to an ancestor if the attribute is not present locally), but the <em>order</em> followed to traverse the inheritance tree now includes all the classes that are specified in the class signature. In the example above, Python would look for attributes in the following order: <code>Child</code>, <code>Parent1</code>, <code>Parent2</code>, <code>Ancestor</code>.</p><p>So, as in the case of standard inheritance, this means that the first class in the list that implements a specific attribute will be the selected provider for that resolution. An example might clarify the matter</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Ancestor</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">rewind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ancestor: rewind&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Parent1</span><span class="p">(</span><span class="n">Ancestor</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parent1: open&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Parent2</span><span class="p">(</span><span class="n">Ancestor</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parent2: open&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parent2: close&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parent2: flush&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Child: flush&quot;</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Child</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">)</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Child</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">rewind</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
</pre></div> </div> </div><p>As you can see, we can access the MRO of any class reading its <code>__mro__</code> attribute, and as we expected its value is <code>(&lt;class &#39;__main__.Child&#39;&gt;, &lt;class &#39;__main__.Parent1&#39;&gt;, &lt;class &#39;__main__.Parent2&#39;&gt;, &lt;class &#39;__main__.Ancestor&#39;&gt;, &lt;class &#39;object&#39;&gt;)</code>.</p><p>So, in this case an instance <code>c</code> of <code>Child</code> provides <code>rewind</code>, <code>open</code>, <code>close</code>, and <code>flush</code>. When <code>c.rewind</code> is called, the code in <code>Ancestor</code> is executed, as this is the first class in the MRO list that provides that method. The method <code>open</code> is provided by <code>Parent1</code>, while <code>close</code> is provided by <code>Parent2</code>. If the method <code>c.flush</code> is called, the code is provided by the <code>Child</code> class itself, that redefines it overriding the one provided by <code>Parent2</code>.</p><p>As we see with the <code>flush</code> method, Python doesn&#x27;t change its behaviour when it comes to method overriding with multiple parents. The first implementation of a method with that name is executed, and the parent&#x27;s implementation is not automatically called. As in the case of standard inheritance, then, it&#x27;s up to us to design classes with matching method signatures.</p><h3 id="under-the-bonnet-cf95">Under the bonnet</h3><p>How does multiple inheritance work internally? How does Python create the MRO list?</p><p>Python has a very simple approach to OOP (even though it ultimately ends with a mind-blowing ouroboros, see <a href="https://www.thedigitalcatonline.com/blog/2014/09/01/python-3-oop-part-5-metaclasses/">here</a>). Classes are objects themselves, so they contain data structures that are used by the language to provide features, and delegation makes no exception. When we run a method on an object, Python silently uses the <code>__getattribute__</code> method (provided by <code>object</code>), which uses <code>__class__</code> to reach the class from the instance, and <code>__bases__</code> to find the parent classes. The latter, in particular, is a tuple, so it is ordered, and it contains all the classes that the current class inherits from.</p><p>The MRO is created using only <code>__bases__</code>, but the underlying algorithm is not that trivial and has to with the monotonicity of the resulting class linearisation. It is less scary than it sounds, but not something you want to read while suntanning, probably. If that&#x27;s the case, the aforementioned <a href="https://www.python.org/download/releases/2.3/mro/">document</a> by Michele Simionato contains all the gory details on class linearisation that you always wanted to explore while lying on the beach.</p><h2 id="inheritance-and-interfaces-42cb">Inheritance and interfaces<a class="headerlink" href="#inheritance-and-interfaces-42cb" title="Permanent link">¶</a></h2><p>To approach mixins, we need to discuss inheritance in detail, and specifically the role of method signatures.</p><p>In Python, when you override a method provided by an ancestor class, you have to decide if and when to call its original implementation. This gives the programmer the freedom to decide whether they need to just augment a method or to replace it completely. Remember that the only thing Python does when a class inherits from another is to automatically delegate methods that are not implemented.</p><p>When a class inherits from another we are ideally creating objects that keep the backward compatibility with the interface of the parent class, to allow a polymorphic use of them. This means that when we inherit from a class and override a method changing its signature we are doing something that is dangerous and, at least from the point of view of polymorphism, wrong. Have a look at this example</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GraphicalEntity</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>

    <span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>


<span class="k">class</span> <span class="nc">Rectangle</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Square</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
</pre></div> </div> </div><p>Please note that <code>Square</code> changes the signature of both <code>__init__</code> and <code>resize</code>. Now, when we instantiate those classes we need to keep in mind the different signature of <code>__init__</code> in <code>Square</code></p><div class="code"><div class="content"><div class="highlight"><pre><span class="n">r1</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">55</span><span class="p">)</span>
<span class="n">q1</span> <span class="o">=</span> <span class="n">Square</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</pre></div> </div> </div><p>We usually accept that an enhanced version of a class accepts different parameters when it is initialised, as we do not expect it to be polymorphic on <code>__init__</code>. Problems arise when we try to leverage polymorphism on other methods, for example resizing all <code>GraphicalEntity</code> objects in a list</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">for</span> <span class="n">shape</span> <span class="ow">in</span> <span class="p">[</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">,</span> <span class="n">q1</span><span class="p">]:</span>
    <span class="n">size_x</span> <span class="o">=</span> <span class="n">shape</span><span class="o">.</span><span class="n">size_x</span>
    <span class="n">size_y</span> <span class="o">=</span> <span class="n">shape</span><span class="o">.</span><span class="n">size_y</span>
    <span class="n">shape</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">size_x</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">size_y</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
</pre></div> </div> </div><p>Since <code>r1</code>, <code>r2</code>, and <code>q1</code> are all objects that inherit from <code>GraphicalEntity</code> we expect them to provide the interface provided by that class, but this fails, because <code>Square</code> changed the signature of <code>resize</code>. The same would happen if we instantiated them in a for loop from a list of classes, but as I said it is generally accepted that child classes change the signature of the <code>__init__</code> method. This is not true, for example, in a plugin-based system, where all plugins shall be initialised the same way.</p><p>This is a classic problem in OOP. While we, as humans, perceive a square just as a slightly special rectangle, from the interface point of view the two classes are different, and thus should not be in the same inheritance tree when we are dealing with dimensions. This is an important consideration: <code>Rectangle</code> and <code>Square</code> are polymorphic on the <code>move</code> method, but not on <code>__init__</code> and <code>resize</code>. So, the question is if we could somehow separate the two natures of being movable and resizeable.</p><p>Now, discussing interfaces, polymorphism, and the reasons behind them would require an entirely separate post, so in the following sections, I&#x27;m going to ignore the matter and just consider the object interface optional. You will thus find examples of objects that break the interface of the parent, and objects that keep it. Just remember: whenever you change the signature of a method you change the (implicit) interface of the object, and thus you stop polymorphism. I&#x27;ll discuss another time if I consider this right or wrong.</p><h2 id="mixin-classes-cf82">Mixin classes<a class="headerlink" href="#mixin-classes-cf82" title="Permanent link">¶</a></h2><p>MRO is a good solution that prevents ambiguity, but it leaves programmers with the responsibility of creating sensible inheritance trees. The algorithm helps to resolve complicated situations, but this doesn&#x27;t mean we should create them in the first place. So, how can we leverage multiple inheritance without creating systems that are too complicated to grasp? Moreover, is it possible to use multiple inheritance to solve the problem of managing the double (or multiple) nature of an object, as in the previous example of a movable and resizeable shape?</p><p>The solution comes from mixin classes: those are small classes that provide attributes but are not included in the standard inheritance tree, working more as &quot;additions&quot; to the current class than as proper ancestors. Mixins originate in the LISP programming language, and specifically in what could be considered the first version of the Common Lisp Object System, the Flavors extension. Modern OOP languages implement mixins in many different ways: Scala, for example, has a feature called <em>traits</em>, which live in their own space with a specific hierarchy that doesn&#x27;t interfere with the proper class inheritance.</p><h3 id="mixin-classes-in-python-a023">Mixin classes in Python</h3><p>Python doesn&#x27;t provide support for mixins with any dedicated language feature, so we use multiple inheritance to implement them. This clearly requires great discipline from the programmer, as it violates one of the main assumptions for mixins: their orthogonality to the inheritance tree. In Python, so-called mixins are classes that live in the normal inheritance tree, but they are kept small to avoid creating hierarchies that are too complicated for the programmer to grasp. In particular, mixins shouldn&#x27;t have common ancestors other than <code>object</code> with the other parent classes.</p><p>Let&#x27;s have a look at a simple example</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GraphicalEntity</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>


<span class="k">class</span> <span class="nc">ResizableMixin</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>


<span class="k">class</span> <span class="nc">ResizableGraphicalEntity</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">,</span> <span class="n">ResizableMixin</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">rge</span> <span class="o">=</span> <span class="n">ResizableGraphicalEntity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">rge</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
</pre></div> </div> </div><p>Here, the class <code>ResizableMixin</code> doesn&#x27;t inherit from <code>GraphicalEntity</code>, but directly from <code>object</code>, so <code>ResizableGraphicalEntity</code> gets from it just the <code>resize</code> method. As we said before, this simplifies the inheritance tree of <code>ResizableGraphicalEntity</code> and helps to reduce the risk of the diamond problem. It leaves us free to use <code>GraphicalEntity</code> as a parent for other classes without having to inherit methods that we don&#x27;t want. Please remember that this happens because the classes are designed to avoid it, and not because of language features: the MRO algorithm just ensures that there will always be an unambiguous choice in case of multiple ancestors.</p><p>Mixins cannot usually be too generic. After all, they are designed to add features to classes, but these new features often interact with other pre-existing features of the augmented class. In this case, the <code>resize</code> method interacts with the attributes <code>size_x</code> and <code>size_y</code> that have to be present in the object. Obviously, there are obviously examples of <em>pure</em> mixins, but since they would require no initialization their scope is definitely limited.</p><h3 id="using-mixins-to-hijack-inheritance-030c">Using mixins to hijack inheritance</h3><p>Thanks to the MRO, Python programmers can leverage multiple inheritance to override methods that objects inherit from their parents, allowing them to customise classes without code duplication. Let&#x27;s have a look at this example</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GraphicalEntity</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>

<span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div> </div> </div><p>As you can see the <code>Button</code> class extends the <code>GraphicalEntity</code> one in a classic way, using <code>super</code> to call the parent&#x27;s <code>__init__</code> method before adding the new <code>status</code> attribute. Now, if I wanted to create a <code>SquareButton</code> class I have two choices.</p><p>I might just override <code>__init__</code> in the new class</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GraphicalEntity</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>


<span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span>


<span class="k">class</span> <span class="nc">SquareButton</span><span class="p">(</span><span class="n">Button</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">SquareButton</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div> </div> </div><p>which performs the requested job, but strongly connects the feature of having a single dimension with the <code>Button</code> nature. If we wanted to create a circular image we could not inherit from <code>SquareButton</code>, as the image has a different nature.</p><p>The second option is that of isolating the features connected with having a single dimension in a mixin class, and add it as a parent for the new class</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GraphicalEntity</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>


<span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span>


<span class="k">class</span> <span class="nc">SingleDimensionMixin</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">SquareButton</span><span class="p">(</span><span class="n">SingleDimensionMixin</span><span class="p">,</span> <span class="n">Button</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">SquareButton</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div> </div> </div><p>The second solution gives the same final result, but promotes code reuse, as now the <code>SingleDimensionMixin</code> class can be applied to other classes derived from <code>GraphicalEntity</code> and make them accept only one size, while in the first solution that feature was tightly connected with the <code>Button</code> ancestor class.</p><p>Please note that the position of the mixin is important as <code>super</code> follows the MRO. As it is, the MRO of <code>SquareButton</code> is <code>(SquareButton, SingleDimensionMixin, Button, GraphicalEntity, object)</code>, so, when we instantiate it the <code>__init__</code> method is provided by <code>SingleDimensionMixin</code>, which in turn calls through <code>super</code> the method <code>__init__</code> of <code>Button</code>. The call <code>super().__init__(pos_x, pos_y, size, size)</code> in <code>SingleDimensionMixin</code> and the signature <code>def __init__(self, pos_x, pos_y, size_x, size_y):</code> in <code>Button</code> match, so everything works.</p><p>If we defined <code>SquareButton</code> as</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SquareButton</span><span class="p">(</span><span class="n">Button</span><span class="p">,</span> <span class="n">SingleDimensionMixin</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div> </div> </div><p>then the <code>__init__</code> method would first be provided by <code>Button</code>, and its <code>super</code> would call the <code>__init__</code> method of <code>GraphicalEntity</code>. This would however result in an error, as we run <code>SquareButton(10, 20, 200)</code>, and <code>Button.__init__</code> expects four parameters.</p><p>Mixins are not used only when you want to change the object&#x27;s interface, though. Leveraging <code>super</code> we can achieve interesting designs like</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GraphicalEntity</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_x</span> <span class="o">=</span> <span class="n">pos_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_y</span> <span class="o">=</span> <span class="n">pos_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_x</span> <span class="o">=</span> <span class="n">size_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size_y</span> <span class="o">=</span> <span class="n">size_y</span>


<span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">GraphicalEntity</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">toggle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span>


<span class="k">class</span> <span class="nc">LimitSizeMixin</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">):</span>
        <span class="n">size_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">size_x</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
        <span class="n">size_y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">size_y</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">,</span> <span class="n">size_x</span><span class="p">,</span> <span class="n">size_y</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">LimitSizeButton</span><span class="p">(</span><span class="n">LimitSizeMixin</span><span class="p">,</span> <span class="n">Button</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">LimitSizeButton</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">size_x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">size_y</span><span class="p">)</span>
</pre></div> </div> </div><p>Here, the MRO or <code>LimitSizeButton</code> is <code>(&lt;class &#39;__main__.LimitSizeButton&#39;&gt;, &lt;class &#39;__main__.LimitSizeMixin&#39;&gt;, &lt;class &#39;__main__.Button&#39;&gt;, &lt;class &#39;__main__.GraphicalEntity&#39;&gt;, &lt;class &#39;object&#39;&gt;)</code>, which means that when we initialize it the <code>__init__</code> method is first provided by <code>LimitSizeMixin</code>, which then calls through <code>super</code> the <code>__init__</code> method of <code>Button</code>, and through the latter the <code>__init__</code> method of <code>GraphicalEntity</code>.</p><p>Remember that in Python, you are never forced to call the parent&#x27;s implementation of a method, so the mixin here might also stop the dispatching mechanism if that is the requirement of the business logic of the new object.</p>
            <div class="advertisement">
                <a href="https://www.thedigitalcat.academy/freebie-first-class-objects">
                  <img src="/images/first-class-objects/cover.jpg" />
                </a>
                <div class="body">
                  <h2 id="first-class-objects-in-python-fffa">First-class objects in Python<a class="headerlink" href="#first-class-objects-in-python-fffa" title="Permanent link">¶</a></h2>
<p>Higher-order functions, wrappers, and factories</p>
<p>Learn all you need to know to understand first-class citizenship in Python, the gateway to grasp how decorators work and how functional programming can supercharge your code.</p>
                  <div class="actions">
                    <a class="action" href="https://www.thedigitalcat.academy/freebie-first-class-objects">Get your FREE copy</a>
                  </div>
                </div>
            </div>
            <h2 id="a-concrete-example-django-class-based-views-f83d">A concrete example: Django class-based views<a class="headerlink" href="#a-concrete-example-django-class-based-views-f83d" title="Permanent link">¶</a></h2><p>Finally, let&#x27;s get to the original source of inspiration for this post: the Django codebase. I will show you here how the Django programmers used multiple inheritance and mixin classes to promote code reuse, and you will now hopefully grasp all the reasons behind them.</p><p>The example I chose can be found in the <a href="https://github.com/django/django/blob/3.0/django/views/generic/base.py#L117">code of generic views</a>, and in particular in two classes: <code>TemplateResponseMixin</code> and <code>TemplateView</code>.</p><p>As you might know, Django <code>View</code> class is the ancestor of all class-based views and provides a <code>dispatch</code> method that converts HTTP request methods into Python function calls (<a href="https://github.com/django/django/blob/3.0/django/views/generic/base.py#L89">CODE</a>). Now, the <code>TemplateView</code> is a view that answers to a GET request rendering a template with the data coming from a context passed when the view is called. Given the mechanism behind Django views, then, <code>TemplateView</code> should implement a <code>get</code> method and return the content of the HTTP response. The code of the class is</p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">TemplateView</span><span class="p">(</span><span class="n">TemplateResponseMixin</span><span class="p">,</span> <span class="n">ContextMixin</span><span class="p">,</span> <span class="n">View</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Render a template. Pass keyword arguments from the URLconf to the context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_to_response</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
</pre></div> </div> </div><p>As you can see <code>TemplateView</code> is a <code>View</code>, but it uses two mixins to inject features. Let&#x27;s have a look at <code>TemplateResponseMixin</code></p><div class="code"><div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">TemplateResponseMixin</span><span class="p">:</span>
    <span class="p">[</span><span class="o">...</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">render_to_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">response_kwargs</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_template_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div> </div> </div><p>It is clear that <code>TemplateResponseMixin</code> just adds to any class the two methods <code>get_template_names</code> and <code>render_to_response</code>. The latter is called in the <code>get</code> method of <code>TemplateView</code> to create the response. Let&#x27;s have a look at a simplified schema of the calls:</p><div class="code"><div class="content"><div class="highlight"><pre>GET request --&gt; TemplateView.dispatch --&gt; View.dispatch --&gt; TemplateView.get --&gt; TemplateResponseMixin.render_to_response
</pre></div> </div> </div><p>It might look complicated, but try to follow the code a couple of times and the whole picture will start to make sense. The important thing I want to stress is that the code in <code>TemplateResponseMixin</code> is available for any class that wants to have the feature of rendering a template, for example <code>DetailView</code> (<a href="https://github.com/django/django/blob/3.0/django/views/generic/detail.py#L164">CODE</a>), which receives the feature of showing the details of a single object by <code>SingleObjectTemplateResponseMixin</code>, which inherits from <code>TemplateResponseMixin</code>, overriding its method <code>get_template_names</code> (<a href="https://github.com/django/django/blob/3.0/django/views/generic/detail.py#L111">CODE</a>).</p><p>As we discussed before, mixins cannot be too generic, and here we see a good example of a mixin designed to work on specific classes. <code>TemplateResponseMixin</code> has to be applied to classes that contain <code>self.request</code> (<a href="https://github.com/django/django/blob/3.0/django/views/generic/base.py#L133">CODE</a>), and while this doesn&#x27;t mean exclusively classes derived from <code>View</code>, it is clear that it has been designed to augment that specific type.</p><h2 id="takeaway-points-72a2">Takeaway points<a class="headerlink" href="#takeaway-points-72a2" title="Permanent link">¶</a></h2><ul><li>Inheritance is designed to promote code reuse but can lead to the opposite result</li><li>Multiple inheritance allows us to keep the inheritance tree simple</li><li>Multiple inheritance leads to possible problems that are solved in Python through the MRO</li><li>Interfaces (either implicit or explicit) should be part of your design</li><li>Mixin classes are used to add simple changes to classes</li><li>Mixins are implemented in Python using multiple inheritance: they have great expressive power but require careful design.</li></ul><h2 id="final-words-9803">Final words<a class="headerlink" href="#final-words-9803" title="Permanent link">¶</a></h2><p>I hope this post helped you to understand a bit more how multiple inheritance works, and to be less scared by it. I also hope I managed to show you that classes have to be carefully designed and that there is a lot to consider when you create a class system. Once again, please don&#x27;t forget composition, it&#x27;s a powerful and too often forgotten tool.</p><h2 id="updates-0083">Updates<a class="headerlink" href="#updates-0083" title="Permanent link">¶</a></h2><p>2020-03-13: GitHub user <a href="https://github.com/sureshvv">sureshvv</a> noticed that the <code>LimitSizeMixin</code> method <code>__init__</code> had the wrong parameters <code>pos_x</code> and <code>pos_y</code>, instead of <code>size_x</code> and <code>size_y</code>. Thanks!</p><p>2021-12-20: <a href="https://github.com/akocur">Alexander</a> fixed a mistake in the part relative to <code>SquareButton</code> and the behaviour of <code>super()</code>. Thanks!</p><h2 id="feedback-d845">Feedback<a class="headerlink" href="#feedback-d845" title="Permanent link">¶</a></h2><p>Feel free to reach me on <a href="https://twitter.com/thedigicat">Twitter</a> if you have questions. The <a href="https://github.com/TheDigitalCatOnline/blog_source/issues">GitHub issues</a> page is the best place to submit corrections.</p>
  </div>


  <section>
    <header>
      <h2>Related Posts</h2>
    </header>
    <div class="paginated-posts">
      <div class="posts">
	<article class="card">
          <a href="/blog/2014/02/14/digging-up-django-class-based-views-3/">
            <img src="/images/digging-up-django-class-based-views.jpg" alt="digging-up-django-class-based-views" />
          </a>
          <div class="body">
            <a href="/blog/2014/02/14/digging-up-django-class-based-views-3/"><h2>Digging up Django class-based views - 3</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/django/" class="tag">Django</a>
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2014-02-14T16:13:41+01:00">Feb 14, 2014</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2020-03-16T07:00:00+00:00">Mar 16, 2020</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2013/12/11/digging-up-django-class-based-views-2/">
            <img src="/images/digging-up-django-class-based-views.jpg" alt="digging-up-django-class-based-views" />
          </a>
          <div class="body">
            <a href="/blog/2013/12/11/digging-up-django-class-based-views-2/"><h2>Digging up Django class-based views - 2</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/django/" class="tag">Django</a>
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2013-12-11T09:00:00+02:00">Dec 11, 2013</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2020-03-16T07:00:00+00:00">Mar 16, 2020</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2013/10/28/digging-up-django-class-based-views-1/">
            <img src="/images/digging-up-django-class-based-views.jpg" alt="digging-up-django-class-based-views" />
          </a>
          <div class="body">
            <a href="/blog/2013/10/28/digging-up-django-class-based-views-1/"><h2>Digging up Django class-based views - 1</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/django/" class="tag">Django</a>
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2013-10-28T08:43:00+02:00">Oct 28, 2013</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2020-03-16T07:00:00+00:00">Mar 16, 2020</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2021/03/09/first-class-objects-in-python/">
            <img src="/images/first-class-objects-in-python.jpg" alt="first-class-objects-in-python" />
          </a>
          <div class="body">
            <a href="/blog/2021/03/09/first-class-objects-in-python/"><h2>First-class objects in Python - Higher-order functions, wrappers, and factories</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python2/" class="tag">Python2</a>
		<a href="/categories/python3/" class="tag">Python3</a>
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/functional-programming/" class="tag">functional programming</a>
		<a href="/categories/decorators/" class="tag">decorators</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2021-03-09T16:00:00+00:00">Mar 9, 2021</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2022-09-18T23:00:00+00:00">Sep 18, 2022</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2020/09/21/tdd-in-python-with-pytest-part-5/">
            <img src="/images/tdd-in-python-with-pytest-part-5.jpg" alt="tdd-in-python-with-pytest-part-5" />
          </a>
          <div class="body">
            <a href="/blog/2020/09/21/tdd-in-python-with-pytest-part-5/"><h2>TDD in Python with pytest - Part 5</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/pytest/" class="tag">pytest</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
		<a href="/categories/refactoring/" class="tag">refactoring</a>
		<a href="/categories/tdd/" class="tag">TDD</a>
		<a href="/categories/testing/" class="tag">testing</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2020-09-21T10:30:00+02:00">Sep 21, 2020</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2021-03-06T19:00:00+00:00">Mar 6, 2021</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2020/09/17/tdd-in-python-with-pytest-part-4/">
            <img src="/images/tdd-in-python-with-pytest-part-4.jpg" alt="tdd-in-python-with-pytest-part-4" />
          </a>
          <div class="body">
            <a href="/blog/2020/09/17/tdd-in-python-with-pytest-part-4/"><h2>TDD in Python with pytest - Part 4</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/pytest/" class="tag">pytest</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
		<a href="/categories/refactoring/" class="tag">refactoring</a>
		<a href="/categories/tdd/" class="tag">TDD</a>
		<a href="/categories/testing/" class="tag">testing</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2020-09-17T11:30:00+02:00">Sep 17, 2020</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2020/09/15/tdd-in-python-with-pytest-part-3/">
            <img src="/images/tdd-in-python-with-pytest-part-3.jpg" alt="tdd-in-python-with-pytest-part-3" />
          </a>
          <div class="body">
            <a href="/blog/2020/09/15/tdd-in-python-with-pytest-part-3/"><h2>TDD in Python with pytest - Part 3</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/pytest/" class="tag">pytest</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
		<a href="/categories/refactoring/" class="tag">refactoring</a>
		<a href="/categories/tdd/" class="tag">TDD</a>
		<a href="/categories/testing/" class="tag">testing</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2020-09-15T08:00:00+02:00">Sep 15, 2020</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2020/09/11/tdd-in-python-with-pytest-part-2/">
            <img src="/images/tdd-in-python-with-pytest-part-2.jpg" alt="tdd-in-python-with-pytest-part-2" />
          </a>
          <div class="body">
            <a href="/blog/2020/09/11/tdd-in-python-with-pytest-part-2/"><h2>TDD in Python with pytest - Part 2</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/pytest/" class="tag">pytest</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
		<a href="/categories/refactoring/" class="tag">refactoring</a>
		<a href="/categories/tdd/" class="tag">TDD</a>
		<a href="/categories/testing/" class="tag">testing</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2020-09-11T10:30:00+02:00">Sep 11, 2020</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2023-09-03T19:00:00+02:00">Sep 3, 2023</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2020/09/10/tdd-in-python-with-pytest-part-1/">
            <img src="/images/tdd-in-python-with-pytest-part-1.jpg" alt="tdd-in-python-with-pytest-part-1" />
          </a>
          <div class="body">
            <a href="/blog/2020/09/10/tdd-in-python-with-pytest-part-1/"><h2>TDD in Python with pytest - Part 1</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/pytest/" class="tag">pytest</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
		<a href="/categories/refactoring/" class="tag">refactoring</a>
		<a href="/categories/tdd/" class="tag">TDD</a>
		<a href="/categories/testing/" class="tag">testing</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2020-09-10T10:30:00+02:00">Sep 10, 2020</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2023-09-03T19:00:00+02:00">Sep 3, 2023</time></p>
	    </div>
          </div>
	</article>
	<article class="card">
          <a href="/blog/2020/08/17/delegation-composition-and-inheritance-in-object-oriented-programming/">
            <img src="/images/delegation-composition-and-inheritance-in-object-oriented-programming.jpg" alt="delegation-composition-and-inheritance-in-object-oriented-programming" />
          </a>
          <div class="body">
            <a href="/blog/2020/08/17/delegation-composition-and-inheritance-in-object-oriented-programming/"><h2>Delegation: composition and inheritance in object-oriented programming</h2></a>
	    <div class="info">
	      <p class="tags">
		<a href="/categories/oop/" class="tag">OOP</a>
		<a href="/categories/python/" class="tag">Python</a>
		<a href="/categories/python3/" class="tag">Python3</a>
              </p>
	      <p><i class="fas fa-calendar-alt"></i> <time datetime="2020-08-17T09:00:00+01:00">Aug 17, 2020</time></p>
	      <p><i class="fas fa-edit"></i> Updated on <time datetime="2022-10-03T08:00:00+00:00">Oct 3, 2022</time></p>
	    </div>
          </div>
	</article>
      </div>
    </div>
  </section>
  
</div>

      </div>
    </div>
    <script src="/theme/js/packed.js?46a8f903"></script>

  </body>
</html>